{"version":3,"file":"keyboard-events.min.js","sources":["../src/actions/keyboard-traverse.js"],"sourcesContent":["/**\n * A pre-built set of actions for traversing a set\n * of focussable elements using the keyboard module\n */\n\n/**\n * The list of keys mapped to functions\n */\nconst KeyboardTraverseActions = [\n  ['arrow-up', {fn: prev}],\n  ['arrow-left', {fn: prev}],\n  ['arrow-down', {fn: next}],\n  ['arrow-right', {fn: next}],\n  ['ctrl+arrow-up', {fn: first}],\n  ['ctrl+arrow-left', {fn: first}],\n  ['ctrl+page-up', {fn: first}],\n  ['ctrl+home', {fn: first}],\n  ['ctrl+arrow-down', {fn: last}],\n  ['ctrl+arrow-right', {fn: last}],\n  ['ctrl+page-down', {fn: last}],\n  ['ctrl+end', {fn: last}],\n  ['ctrl+shift+arrow-up', {fn: up}],\n  ['ctrl+shift+arrow-left', {fn: up}],\n  ['ctrl+shift+arrow-down', {fn: down}],\n  ['ctrl+shift+arrow-right', {fn: down}]\n];\n\n/**\n * Move focus to the previous element in the list\n *\n * @param {Object} data Keyboard action data\n */\nfunction prev(data) {\n  data.event.preventDefault();\n  if (checkSibling(data, 'previousElementSibling')) {\n    data.event.target.previousElementSibling.focus();\n  }\n}\n\n/**\n * Move focus to the next element in the list\n *\n * @param {Object} data Keyboard action data\n */\nfunction next(data) {\n  data.event.preventDefault();\n  if (checkSibling(data, 'nextElementSibling')) {\n    data.event.target.nextElementSibling.focus();\n  }\n}\n\n/**\n * Move focus to the first element in the list\n *\n * @param {Object} data Keyboard action data\n */\nfunction first(data) {\n  data.event.preventDefault();\n  data.element.querySelectorAll(\n    '.' + data.props.traverseItemClass + '[tabindex=\"0\"]'\n  )[0].focus();\n}\n\n/**\n * Move focus to the last element in the list\n *\n * @param {Object} data Keyboard action data\n */\nfunction last(data) {\n  data.event.preventDefault();\n  const items = data.element.querySelectorAll(\n    '.' + data.props.traverseItemClass + '[tabindex=\"0\"]'\n  );\n  items[items.length - 1].focus();\n}\n\n/**\n * Move focus to the first focussable elemnt before the list\n *\n * @param {Object} data Keyboard action data\n */\nfunction up(data) {\n  data.event.preventDefault();\n  const first = data.element.querySelectorAll(\n    '.' + data.props.traverseItemClass + '[tabindex=\"0\"]'\n  )[0];\n  const focussable = [...document.querySelectorAll('[tabindex=\"0\"]')];\n  if (focussable[focussable.indexOf(first) - 1]) {\n    focussable[focussable.indexOf(first) - 1].focus();\n  }\n}\n\n/**\n * Move focus to the first focussable elemnt after the list\n *\n * @param {Object} data Keyboard action data\n */\nfunction down(data) {\n  data.event.preventDefault();\n  const items = data.element.querySelectorAll(\n    '.' + data.props.traverseItemClass + '[tabindex=\"0\"]'\n  );\n  const focussable = [...document.querySelectorAll('[tabindex=\"0\"]')];\n  if (focussable[focussable.indexOf(items[items.length - 1]) + 1]) {\n    focussable[focussable.indexOf(items[items.length - 1]) + 1].focus();\n  }\n\n}\n\n/**\n * Check that a sibling element exists to prevent errors\n * when the ends of the list are reached\n *\n * @param {Object} data Keyboard action data\n * @param {string} sibling The type of element sibling to check\n *                 (previous or next sibling)\n */\nconst checkSibling = (data, sibling) =>\n  data.event.target[sibling]\n    && data.event.target[sibling].classList\n    && data.event.target[sibling]\n      .classList.contains(data.props.traverseItemClass);\n\nexport {KeyboardTraverseActions};\n"],"names":["KeyboardTraverseActions","fn","prev","next","first","last","up","down","data","event","preventDefault","checkSibling","target","previousElementSibling","focus","nextElementSibling","element","querySelectorAll","props","traverseItemClass","items","length","focussable","document","indexOf","sibling","classList","contains"],"mappings":"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"}