!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define(b):(a.Keyboard=b())}(this,(function(){'use strict';var a=function(){function a(a,b){var c=[],d=!0,e=!1,f=undefined;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0,f=a}finally{try{!d&&g["return"]&&g["return"]()}finally{if(e)throw f}};return c}return function(b,c){if(Array.isArray(b)){return b}else if(Symbol.iterator in Object(b)){return a(b,c)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}(),b=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}else{return Array.from(a)}},c=void 0,d={8:'backspace',9:'tab',13:'enter',20:'capslock',27:'esc',32:'space',33:'page-up',34:'page-down',35:'end',36:'home',37:'arrow-left',38:'arrow-up',39:'arrow-right',40:'arrow-down',45:'insert',46:'delete',144:'numlock'},e={16:'shift',17:'ctrl',18:'alt',91:'cmd'},f=new Map([[91,{name:'cmd',selected:!1}],[17,{name:'ctrl',selected:!1}],[16,{name:'shift',selected:!1}],[18,{name:'alt',selected:!1}]]),g=!1,h='',j=new Map();function k(a){l(a);a.addEventListener('keydown',m);a.addEventListener('keyup',s)}function l(a){a.removeEventListener('keydown',m);a.removeEventListener('keyup',s)}function m(a){t(a).map(n(a))}var n=function b(a){return function(b){var c=j.get(b),d=v(c.useCmdKey,a);if(!r(d)){q();o(d);var e=c.actions.get(h.toLowerCase());p(b,c,e,a);h=''}}};function o(a){h+=d[a]||String.fromCharCode(a).toLowerCase()}function p(a,b,c,d){c&&c.fn&&c.fn!=='-'&&(c.fn({element:a,event:d,command:h,target:d.target,data:c.data,props:b.props}),c.once&&j.delete(a))}function q(){if(g){var b=!0,c=!1,d=undefined;try{for(var e=f.entries()[Symbol.iterator](),i;!(b=(i=e.next()).done);b=!0){var j=a(i.value,2),l=j[1];l.selected&&(h+=l.name+'+')}}catch(a){c=!0,d=a}finally{try{!b&&e.return&&e.return()}finally{if(c){throw d}}}}}function r(a){if(e[a]){g=!0;f.get(a).selected=!0;return !0}return !1}function s(){var b=!0,c=!1,d=undefined;try{for(var e=f.entries()[Symbol.iterator](),g;!(b=(g=e.next()).done);b=!0){var h=a(g.value,2),i=h[0];f.get(i).selected=!1}}catch(a){c=!0,d=a}finally{try{!b&&e.return&&e.return()}finally{if(c){throw d}}}}function t(a){return(a.path||a.composedPath&&a.composedPath()||u(a)).filter(function(a){return j.get(a)})}function u(a){var b=a.target,d=[];while(b.tagName.toLowerCase()!=='html')d.push(b),b=b.parentElement;c&&d.push(c);typeof Window!=='undefined'&&d.push(Window);return d}var v=function c(a,b){return a?b.which:b.which===91?17:b._testCode||b.which},w=function b(a){return function(){j.delete(a);l(a)}};function x(){[].concat(b(j.keys())).forEach(function(a){l(a)});j.clear()}function y(a){if(!a.elm){throw new Error('\n      Trying to create a keyboard event listener without providing\n      an element to listen on\n    ')}j.set(a.elm,{useCmdKey:a.useCmdKey||!1,props:a.props||{},actions:new Map((a.use||[]).concat(a.actions||[]))});c=a.document?a.document:window.document;k(a.elm);return{unsubscribe:w,listen:k}}y.clear=x;return y}))
//# sourceMappingURL=keyboard-events.min.js.map
